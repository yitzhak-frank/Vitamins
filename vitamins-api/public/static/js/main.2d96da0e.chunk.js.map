{"version":3,"sources":["components/Home.jsx","services/usersService.js","services/http.js","services/cartService.js","redux-store/cart-reducer.js","redux-store/indexes-reduser.js","redux-store/products-reducer.js","services/productsService.js","redux-store/redux-store.js","components/cart/cartItem.jsx","services/generalFn.js","components/cart/cart.jsx","components/footer.jsx","hooks/screenSize.js","components/navBar.jsx","components/common/input.jsx","components/signin.jsx","components/admin/pagination.jsx","hooks/scrollPosition.js","services/adminService.js","components/admin/usersTable/addAndEditUser.jsx","components/admin/usersTable/userRow.jsx","components/admin/usersTable/usersTable.jsx","components/admin/adminNavBar.jsx","components/admin/productsTable/productRow.jsx","components/admin/productsTable/addAndEditProd.jsx","components/admin/productsTable/productsTable.jsx","components/admin/adminApp.jsx","components/common/tooltip.jsx","components/products/product.jsx","components/products/products.jsx","redux-store/index.redux.js","components/signup.jsx","components/products/prodDetails.jsx","components/protectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["Home","TOKEN_KEY","ROLE","NAME","getJwt","localStorage","getItem","getCurrentUser","name","role","checkAdminToken","a","http","get","apiUrl","checkIfAdmin","userSignUp","user","post","then","resp","data","login","email","pass","setItem","token","saveCartToDbOnLogin","window","location","reload","axios","defaults","headers","common","interceptors","response","use","err","status","toast","error","message","Promise","reject","requests","put","patch","delete","createCart","user_id","catch","console","dir","addToCart","prod","changeItemAmount","removeFromCart","prod_id","cart","store","getState","items","length","forEach","dispatch","editCart","ADD_TO_CART","GET_CART","EDIT_CART","CHANGE_AMOUNT","REMOVE_FROM_CART","SELECT","SELECT_ALL","UNSELECT_ALL","REMOVE_SELECTED","initCartState","loading","selectedItems","cartReducer","state","action","type","payload","map","filter","prodId","getCart","getAction","selectHandler","selectAllHandler","CART_INDEX","LOGIN_INDEX","USER_INDEX","ADMIN_INDEX","SIGNUP_DATA","initIndexesState","admin","signupData","indexesRrducer","indexesManager","GET_PRODS","initProdsState","prods","prodsReducer","getProducts","createStore","combineReducers","products","indexes","applyMiddleware","thunkMiddleware","CartItem","item","image","price","payment","amount","_id","fn","handelChangeAmount","handelRemoveFromCart","handleSelectItem","style","className","onClick","e","to","src","alt","toString","replace","checkParentsClass","element","classname","split","includes","parentNode","getDateFormated","date","month","Date","getMonth","day","getDate","getFullYear","connect","_cart","_selectedItems","useState","setCart","setProducts","cartProds","setCartProds","setSelectedItems","history","useHistory","styles","selectedItem","backgroundColor","border","notSelectedItem","emptyCart","fontSize","margin","display","color","textShadow","emptyCartText","useEffect","subscribe","setCartProdsData","reverse","pointer","findIndex","updateCart","msg","toastMessages","target","pathname","id","finalPayment","calcFinalPayment","disabled","Footer","getWindowSize","width","innerWidth","height","innerHeight","useWindowSize","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","cartItems","hamburger","setHamburger","hamburgerHovar","setHamburgerHover","url","setUrl","icons","position","top","left","cursor","right","zIndex","borderRadius","padding","boxShadow","transition","bars","bar1","transform","bar2","opacity","bar3","listen","i","onMouseEnter","onMouseLeave","Input","inputData","field","placeholder","inputsFocus","inputFn","formik","setInputsFocus","noValidate","value","values","onChange","handleChange","onFocus","inputs","onBlur","handleBlur","touched","errors","onSubmit","password","useFormik","initialValues","validate","test","removeItem","handleSubmit","Pagination","pagesCount","currentPage","setCurrentPage","page","useScrollPosition","scrollY","scrollPosition","setScrollPosition","pageHeight","document","body","clientHeight","screenHeight","documentElement","handleScroll","bottom","getTableData","table","sortBy","orderBy","skip","limit","searchItems","searchValue","getSearchCount","getCount","addItem","uploadProdImg","img","editItem","itemId","deleteItem","AddAndEditUser","closeForm","reRender","formContainer","form","maxWidth","maxHeight","overflowY","val","htmlFor","UserRow","setUserToEdit","handleDeleteUser","index","date_created","UsersTable","users","tableData","addItemIndex","userToEdit","itemToEdit","handleDeleteItem","handleCloseForm","setAddItemIndex","setItemToEdit","scrollPositionBottom","addBtn","AdminNavBar","currentTable","setSortBy","setOrderBy","showAll","showPages","ProductRow","handleDeleteProd","setProdToEdit","description","more_info","divStyle","AddAndEditProd","prodImg","setProdImg","textarea","whitSpace","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","minHeight","uploadImage","imgUrl","querySelector","files","FormData","append","input","fileReader","FileReader","onload","result","readAsDataURL","displayNewImage","ProductsTable","prodToEdit","AdminApp","setCurrentTable","setTableData","itemsCount","setItemsCount","setPagesCount","amontToShow","setAmontToShow","setReRender","setSearchValue","setLoading","showAllIndex","setShowAllIndex","count","pages","Math","ceil","push","confirm","log","paddingBottom","aria-hidden","aria-label","Tooltip","content","event","scrollPositionTop","pageY","pageX","tooltip","Product","handleAddToCart","setTooltip","background","onMouseOver","filteredData","setFilteredData","search","isProdInCart","toLowerCase","reduxIndex","indexesReducer","userInfo","verifyPass","match","params","setAmount","product","setProduct","iHover","setIHover","direction","columnCount","outline","buttons","fontWeight","minus","borderBottomLeftRadius","borderTopLeftRadius","plus","borderBottomRightRadius","borderTopRightRadius","iOnHover","getProduct","changeAmount","ProtectedRoute","Componenet","component","render","props","from","App","setIndexes","pageNotFound","path","exact","Products","ProdDetails","SignUp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d96da0e.chunk.js","sourcesContent":["const Home = () => {\n    return(null);\n}\n\nexport default Home;","import http from './http';\nimport {apiUrl} from '../config.json';\nimport { saveCartToDbOnLogin } from './cartService';\n\nconst TOKEN_KEY = 'token', ROLE = 'role', NAME = 'name';\n\nexport const getJwt = () => localStorage.getItem(TOKEN_KEY);\n\nexport const getCurrentUser = () => localStorage[TOKEN_KEY] ? ({ name: localStorage[NAME], role: localStorage[ROLE] }): null;\n\nexport const checkAdminToken = async () => {\n    try {\n        await http.get(apiUrl + '/users/checkAdmin');\n        localStorage[ROLE] = 'admin';\n    } catch(err) { delete localStorage[ROLE] }\n}\n\nexport const checkIfAdmin = () => localStorage[ROLE] === 'admin';\n\nexport const userSignUp = (user) => http.post(apiUrl + '/users/signUp', user).then(resp => resp.data);\n\nexport const login = async(email, pass) => {\n    let { data } = await http.post(apiUrl + '/users/login', { email, pass });\n    localStorage.setItem(TOKEN_KEY, data.token);\n    localStorage.setItem(NAME, data.name);\n    localStorage.setItem(ROLE, data.role);\n    saveCartToDbOnLogin();\n    window.location.reload();\n}\n\nexport const logout = () => {\n    localStorage.removeItem(TOKEN_KEY);\n    localStorage.removeItem(NAME);\n    localStorage.removeItem(ROLE);\n    window.location.reload();\n};","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { getJwt } from './usersService';\n\naxios.defaults.headers.common['x-auth-token'] = getJwt();\nexport const setTokenHeaders = () => axios.defaults.headers.common['x-auth-token'] = getJwt();\n\naxios.interceptors.response.use(null, err => {\n    if(err.response && err.response.status === 409) toast.error('המשתמש כבר קיים במערכת');\n    else if(err.response && err.response.status >= 403) toast.error('אירעה שגיאה בלתי צפויה');\n    else if(err.response && err.response.data.message === 'invalid user or password') toast.error('שם המשתמש או הסיסמא שהוזנו שגויים');\n    return Promise.reject(err);\n})\n\nconst requests = {\n    get:    axios.get,\n    post:   axios.post,\n    put:    axios.put,\n    patch:  axios.patch,\n    delete: axios.delete,\n}\n\nexport default requests;","import http, { setTokenHeaders } from \"./http\";\nimport { apiUrl } from \"../config.json\";\nimport store from \"../redux-store/redux-store\";\nimport { ADD_TO_CART, editCart } from \"../redux-store/cart-reducer\";\n\nexport const createCart = (user_id) => http.post(apiUrl + '/carts/add', {user_id}).catch(err => console.dir(err));\n\nexport const getUserCart = () => http.get(apiUrl + '/carts/get').then(resp => resp.data);\n\nexport const addToCart = (prod) => http.put(apiUrl + '/carts/addItem', prod);\n\nexport const changeItemAmount = (prod) => http.put(apiUrl + '/carts/changeItem', prod);\n\nexport const removeFromCart = (prod_id) => http.put(apiUrl + '/carts/removeItem', {prod_id});\n\nexport const saveCartToDbOnLogin = () => {\n    let cart = store.getState().cart.cart.items;\n    if(!cart.length) return;\n    setTokenHeaders();\n    cart.forEach(prod => store.dispatch(editCart(ADD_TO_CART, prod)));\n}\n\n","import { addToCart, changeItemAmount, getUserCart, removeFromCart } from \"../services/cartService\";\nimport { getCurrentUser } from \"../services/usersService\";\n\nexport const\n    GET_CART         = 'GET_CART', \n    EDIT_CART        = 'EDIT_CART', \n    ADD_TO_CART      = 'ADD_TO_CART', \n    CHANGE_AMOUNT    = 'CHANGE_AMOUNT', \n    REMOVE_FROM_CART = 'REMOVE_FROM_CART', \n    SELECT           = 'SELECT', \n    SELECT_ALL       = 'SELECT_ALL', \n    UNSELECT_ALL     = 'UNSELECT_ALL',\n    REMOVE_SELECTED  = 'REMOVE_SELECTED';\n\nconst initCartState = {loading: false, error: '', cart: {items: []}, selectedItems: []};\n\nexport const cartReducer = (state = initCartState, action) => {\n    switch(action.type) {\n        case GET_CART: return { ...state, ...action.payload};\n        case EDIT_CART: return { ...state, ...action.payload};\n        case ADD_TO_CART: return { ...state, cart: { items: [...state.cart.items, action.prod] } };\n        case CHANGE_AMOUNT: return {...state,cart:{items:state.cart.items.map(prod=>prod.prod_id===action.prod.prod_id?action.prod:prod)}};\n        case REMOVE_FROM_CART: return { ...state, cart: {items: state.cart.items.filter(prod => prod.prod_id !== action.prod)}};\n        case SELECT: return { ...state, selectedItems: [...state.selectedItems, action.prodId] };\n        case SELECT_ALL: return { ...state, selectedItems: action.selectedItems };\n        case UNSELECT_ALL: return { ...state, selectedItems: action.selectedItems };\n        case REMOVE_SELECTED: return { ...state, selectedItems: state.selectedItems.filter(prod => prod !== action.prodId) };\n        default: return state;\n    }  \n}\n\nexport const getCart = () => {\n    let payload, type = GET_CART;\n    return async (dispatch) => {  \n        payload = {loading: true, error: ''};\n        dispatch({type, payload});\n        try {\n            let cart = await getUserCart();\n            payload = {loading: false, cart, error: ''};\n            dispatch({type, payload});\n        } catch(error) {\n            payload = {loading: false, cart: [], error: error};\n            dispatch({type, payload});\n        }\n    }\n}\n\nexport const editCart = (type, prod) => {\n    let payload;\n    if(!getCurrentUser()) return (dispatch) => dispatch({type, prod});\n    return async (dispatch) => { \n        payload = {loading: true, error: ''};\n        dispatch({type: EDIT_CART, payload});\n        try {\n            await (getAction(type)(prod));\n            dispatch({type, prod});\n        } catch(error) {\n            payload = {loading: false, error: error};\n            dispatch({type: EDIT_CART, payload});\n        }\n    }\n}\n\nconst getAction = (type) => {\n    switch(type) {\n        case ADD_TO_CART: return addToCart;\n        case CHANGE_AMOUNT: return changeItemAmount;\n        case REMOVE_FROM_CART: return removeFromCart;\n        default: return;\n    }\n}\n\nexport const selectHandler = (type, prodId) => ({type, prodId});\n\nexport const selectAllHandler = (type, selectedItems) => ({type, selectedItems});","export const \n    CART_INDEX  = 'CART_INDEX', \n    LOGIN_INDEX = 'LOGIN_INDEX', \n    USER_INDEX  = 'USER_INDEX', \n    ADMIN_INDEX = 'ADMIN_INDEX', \n    SIGNUP_DATA = 'SIGNUP_DATA';\n\n// login index is for sign in card to show or hide, not for user is loged in\nconst initIndexesState = { cart: false, login: false, user: '', admin: false, signupData: {email: '', pass: ''} };\n\nexport const indexesRrducer = (state = initIndexesState, action) => {\n    switch(action.type) {\n        case CART_INDEX:  return { ...state, cart:  action.state };\n        case LOGIN_INDEX: return { ...state, login: action.state };\n        case USER_INDEX:  return { ...state, user:  action.state };\n        case ADMIN_INDEX: return { ...state, admin: action.state };\n        case SIGNUP_DATA: return { ...state, signupData: action.state };\n        default: return state\n    }\n}\n\nexport const indexesManager = (type, state) => ({type, state})","import { getAllProducts } from \"../services/productsService\";\n\nexport const GET_PRODS = 'GET_PRODS';\n\nconst initProdsState = {loading: false, error: '', prods:[]};\n\nexport const prodsReducer = (state = initProdsState, action) => {\n    switch(action.type) {\n        case GET_PRODS: return { ...state, ...action.payload };\n        default: return state;\n    }\n}\n\nexport const getProducts = () => {\n    let payload, type = GET_PRODS;\n    return async (dispatch) => {  \n        payload = {loading: true, error: ''};\n        dispatch({type, payload});\n        try {\n            let prods = await getAllProducts();\n            payload = {loading: false, prods, error: ''};\n            dispatch({type, payload});\n        } catch(error) {\n            payload = {loading: false, error: error};\n            dispatch({type, payload});\n        }\n    }\n}","import http from \"./http\";\nimport { apiUrl } from \"../config.json\";\n\nexport const getAllProducts = () => http.get(apiUrl + '/prods/all').then(resp => resp.data);\n\nexport const getProductById = (id) => http.get(`${apiUrl}/prods/single/${id}`).then(resp => resp.data);","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunkMiddleware from 'redux-thunk'\nimport { cartReducer } from \"./cart-reducer\";\nimport { indexesRrducer } from \"./indexes-reduser\";\nimport { prodsReducer } from \"./products-reducer\";\n\nconst store = createStore(\n    combineReducers({\n        products: prodsReducer, \n        cart:     cartReducer, \n        indexes:  indexesRrducer\n    }), applyMiddleware(thunkMiddleware));\n\nexport default store;\n","import { Link } from \"react-router-dom\";\n\nconst CartItem = ({\n    item: {name, image, price, payment, amount, _id: prodId}, \n    fn: {handelChangeAmount, handelRemoveFromCart, handleSelectItem},\n    style\n}) => {\n    return(\n        <div className=\"col-12 cart-item\">\n            <div className=\"m-1 p-3 shadow cart-item-body\" style={style} onClick={(e) => handleSelectItem(e, prodId)}>\n                <Link to={`/product-details/${prodId}`}>\n                    <img className=\"float-left w-25 pb-1 cart-img\" src={image} alt=\"Vitamin\"/>\n                </Link>\n                <div className=\"w-75 pl-4\">\n                    <i className=\"fas fa-trash-alt float-right\" onClick={() => handelRemoveFromCart(prodId)}></i>\n                    <h6 className=\"text-success\">{name} \n                        <small className=\"text-info\"> ₪{price.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")}</small>\n                    </h6>\n                    <h6 className=\"text-info\">\n                        <span>\n                            {payment.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} \n                        </span> ₪\n                    </h6>\n                    <div className=\"amount float-right\">\n                        <div className=\"increace\" onClick={() => handelChangeAmount(prodId, 1)}>+</div>\n                        <div className=\"text-center\">{amount}</div>\n                        <div className=\"reduce\" onClick={() => handelChangeAmount(prodId, -1)}>-</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default CartItem;","export const checkParentsClass = (element, classname) => {\n    if(element.className.split(' ').includes(classname)) return true;\n    if(element.parentNode.className) return checkParentsClass(element.parentNode, classname);\n    else return false;\n}\n\nexport const getDateFormated = (date) => {\n    date = new Date(date);\n    let month = date.getMonth() + 1;\n    let day = date.getDate();\n    if(month.toString().length < 2) month = '0' + month;\n    if(day.toString().length < 2)   day   = '0' + day;\n    return `${day}-${month}-${date.getFullYear()}`;\n}","import store from \"../../redux-store/redux-store\";\nimport CartItem from \"./cartItem\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { checkParentsClass } from \"../../services/generalFn\";\nimport { useEffect, useState } from \"react\";\nimport { CART_INDEX, indexesManager } from \"../../redux-store/indexes-reduser\";\nimport { ADD_TO_CART, CHANGE_AMOUNT, UNSELECT_ALL, REMOVE_FROM_CART, REMOVE_SELECTED, SELECT, SELECT_ALL, selectAllHandler, selectHandler, editCart } from \"../../redux-store/cart-reducer\";\n\nconst Cart = ({cart: _cart, prods, selectedItems: _selectedItems, editCart, selectHandler, selectAllHandler}) => {\n\n    const[cart, setCart] = useState(_cart);\n    const[products, setProducts] = useState(prods);\n    const[cartProds, setCartProds] = useState([]);\n    const[selectedItems, setSelectedItems] = useState(_selectedItems);\n    const history = useHistory();\n\n    const styles = {\n        selectedItem: { backgroundColor: 'white', border: '3px solid rgb(15, 177, 15)' },\n        notSelectedItem: { backgroundColor: 'rgb(240, 240, 240)', border: 'none' },\n        emptyCart: {fontSize: '5rem', margin: '20px 10px', display: 'inline-block', color: 'white', textShadow: '0 0 4px gray'},\n        emptyCartText: {display: 'inline-block', margin: '20px 10px'}\n    }\n\n    useEffect(() => {\n        const subscription = store.subscribe(() => {\n            const {products: {prods}, cart: {cart, selectedItems}} = store.getState();\n            setCart(cart) || setSelectedItems(selectedItems) || setProducts(prods);\n        });\n        return subscription;\n    }, []);\n\n    useEffect(() => setCartProdsData(), [cart]);\n    \n    const setCartProdsData = () => {\n        if(!cart.items) return;\n        setCartProds(cart.items.map(item => {\n            for(let prod of products) {\n                if(prod._id !== item.prod_id) continue;\n                let {amount, payment} = item;\n                return {...prod, amount, payment};\n            }\n        }).reverse());\n    }\n\n    const handleAddToCart = (prod_id, price, amount = 1) => {\n        let isProdInCart = cart.items[cart.items.findIndex(item => item.prod_id === prod_id)];\n        if(isProdInCart) return handelChangeAmount(prod_id, amount)\n        let prod = { prod_id, amount, payment: price * amount};\n        updateCart(ADD_TO_CART, prod, 'התווסף');\n    }\n\n    const handelChangeAmount = (prodId, pointer) => {\n        let {prod_id, amount, payment} = cart.items[cart.items.findIndex(prod => prod.prod_id === prodId)];\n        let prod = {prod_id, amount, payment};\n        if(prod.amount + pointer > 99 || prod.amount + pointer < 1) return;\n        let price = products[products.findIndex(prod => prod._id === prodId)].price;\n        prod.amount += pointer;\n        prod.payment = price * prod.amount;\n        updateCart(CHANGE_AMOUNT, prod, 'התעדכן');\n    }\n\n    const handelRemoveFromCart = (prodId) => {\n        updateCart(REMOVE_FROM_CART, prodId, 'הוסר');\n        if(selectedItems.includes(prodId)) selectHandler(REMOVE_SELECTED, prodId);\n    }\n\n    const updateCart = async (type, payload, msg) => {\n        await editCart(type, payload);\n        toastMessages(msg);\n    }\n\n    const toastMessages = (msg) => {\n        let error = store.getState().cart.error;\n        if(!error) toast(`הפריט ${msg} בהצלחה`);\n        else toast.error('משהו השתבש נסה שוב מאוחר יותר');\n    }\n\n    const handleSelectItem = ({target: element} ,prodId) => {\n        if(checkParentsClass(element, 'float-right')) return;\n        if(element.className.includes('cart-img') && history.location.pathname === '/products') return;\n\n        if(!selectedItems.includes(prodId)) selectHandler(SELECT, prodId);\n        else selectHandler(REMOVE_SELECTED, prodId);\n    }\n\n    const handleSelectAll = () => {\n        if(selectedItems.length === cartProds.length) selectAllHandler(UNSELECT_ALL, []);\n        else selectAllHandler(SELECT_ALL, cartProds.map(prod => prod._id));\n    }\n\n    const removeSelectedFromCart = () => {\n        selectedItems.forEach(async prodId => await editCart(REMOVE_FROM_CART, prodId));\n        selectAllHandler(UNSELECT_ALL, []);\n    }\n\n    const calcFinalPayment = () => {\n        let finalPayment = 0;\n        cartProds.forEach(prod => selectedItems.includes(prod._id)? finalPayment += prod.payment: null);\n        return finalPayment;\n    }\n\n    const closeCart = () => store.dispatch(indexesManager(CART_INDEX, false));\n\n    return (\n        <div className=\"cart\">\n            {cartProds.length? <>\n                <div className=\"cart-head cart-full p-2\">\n                    <div className=\"checkbox\">\n                        <div className=\"checkbox-border\" onClick={handleSelectAll}>\n                            {selectedItems.length === cartProds.length ? <div className=\"checkbox-body\"></div>:''}\n                        </div>\n                        <small className=\"checkbox-text mr-2\">\n                            {selectedItems.length === cartProds.length ? 'הסר סימון' : 'סמן את כל הפריטים'}\n                        </small>\n                    </div>\n                    {selectedItems.length? <div className=\"trash-box\">\n                        <small className=\"trash-text ml-2\"> הסר פריטים מסומנים </small>\n                        <i id=\"trash\" className=\"fas fa-trash-alt\" onClick={removeSelectedFromCart}></i>\n                    </div>: ''}\n                </div>\n\n                <div id=\"cart-items\" className=\"row\">\n                    {cartProds.length ?\n                    cartProds.map(item => <CartItem \n                        key={item._id} \n                        item={item} \n                        fn={{handelChangeAmount, handelRemoveFromCart, handleSelectItem}}\n                        style={selectedItems.includes(item._id)? styles.selectedItem: styles.notSelectedItem} \n                    />):''}\n                </div>\n\n                <div className=\"cart-footer pay-text\">\n                    <h6 className=\"text-right\">\n                        פריטים שנבחרו:  \n                        <span className=\"items-amount text-info\"> {selectedItems.length} </span>\n                        <br/>\n                        סך הכל לתשלום: \n                        <span className=\"final-price text-info\">  \n                            {' '}{calcFinalPayment().toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} ₪\n                        </span> \n                    </h6>\n                    <button id=\"buy-now\" className=\"btn btn-dark\" disabled={!selectedItems.length}>שלם עכשיו</button>\n                </div>\n            </>: \n            <>\n                <h6 style={styles.emptyCartText}><b>עגלת הקניות שלך ריקה</b></h6>\n                <i className=\"fas fa-shopping-cart\" style={styles.emptyCart}></i>\n            </>\n            }\n            <Link to=\"/products\" className=\"cart-empty btn btn-dark w-100\" onClick={closeCart}>המשך בקניות</Link>\n        </div>\n    );\n}\n\nconst mapStateToProps = ({cart: {cart, selectedItems}, products: {prods}}) => ({prods, cart, selectedItems});\nconst mapDispatchToProps = (dispatch) => ({\n    editCart: (type, prod) => dispatch(editCart(type, prod)),\n    selectHandler: (type, prodId) => dispatch(selectHandler(type, prodId)),\n    selectAllHandler: (type, selectedItems) => dispatch(selectAllHandler(type, selectedItems))\n});\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","const Footer = () => {\n    return(\n        <footer className=\"bg-dark\">\n\n        </footer>\n    );\n}\n\nexport default Footer;","import { useState, useEffect } from 'react';\n\nconst getWindowSize = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n  return { width, height };\n}\n\nconst useWindowSize = () => {\n  const [windowSize, setWindowSize] = useState(getWindowSize());\n\n  useEffect(() => {\n    const handleResize = () => setWindowSize(getWindowSize());\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n}\n\nexport default useWindowSize;\n","import { CART_INDEX, indexesManager, LOGIN_INDEX } from \"../redux-store/indexes-reduser\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport useWindowSize from '../hooks/screenSize';\n\nconst NavBar = ({indexes, cartItems, indexesManager}) => {\n\n    const history = useHistory();\n    const { width } = useWindowSize();\n    const[hamburger, setHamburger] = useState(false);\n    const[hamburgerHovar, setHamburgerHover] = useState(false);\n    const[url, setUrl] = useState(history.location.pathname);\n\n    const styles = {\n        icons: {position: 'fixed', top: '20px', left: '20px'},\n        hamburger: {cursor: 'pointer', height: '55px', width: '60px', position: 'fixed', top: '10px', right: '10px', zIndex: 9, borderRadius: '10px', padding: '7.5px 10px', boxShadow: '0 0 6px gray', transition: '0.4s'},\n        bars: {width: '40px', height: '5px', margin: '6px 0', transition: '0.4s', backgroundColor: hamburgerHovar ? 'white' : 'silver'},\n        bar1: {width: '40px', height: '5px', margin: '6px 0', transition: '0.4s', backgroundColor: hamburgerHovar ? 'white' : 'silver', transform: 'rotate(-45deg) translate(-9px, 6px)'},\n        bar2: {width: '40px', height: '5px', margin: '6px 0', transition: '0.4s', backgroundColor: hamburgerHovar ? 'white' : 'silver', opacity: 0},\n        bar3: {width: '40px', height: '5px', margin: '6px 0', transition: '0.4s', backgroundColor: hamburgerHovar ? 'white' : 'silver', transform: 'rotate(45deg) translate(-8px, -8px)'},\n    }\n\n    useEffect(() => history.listen((location) => setUrl(location.pathname)) , [history]);\n\n    const togglCart = () => {\n        indexesManager(CART_INDEX, !indexes.cart);\n        indexes.login && indexesManager(LOGIN_INDEX, false);\n    };\n    const togglLogin = () => {\n        indexesManager(LOGIN_INDEX, !indexes.login);\n        indexes.cart &&  indexesManager(CART_INDEX, false);\n    };\n\n    const toggleHamburger = () => {\n        setHamburger(!hamburger);\n        if(!hamburger) for(let i = 1; i <= 3; i++) delete styles[`bar${i}`];\n        else {\n            styles.bar1 = {...styles.bars, transform: 'rotate(-45deg) translate(-9px, 6px)'};\n            styles.bar2 = {...styles.bars, opacity: 0};\n            styles.bar3 = {...styles.bars, transform: 'rotate(45deg) translate(-8px, -8px)'};\n        }\n    }\n\n    return (\n        <nav className=\"navbar navbar-dark bg-dark shadows p-0\">\n            <div \n                id=\"hamburger\" \n                className=\"hamburger-container d-block d-md-none bg-dark\" \n                onClick={toggleHamburger}\n                onMouseEnter={() => setHamburgerHover(true)}\n                onMouseLeave={() => setHamburgerHover(false)}\n                style={!hamburger ? {...styles.hamburger} : {...styles.hamburger, boxShadow: 'none'}}\n            >\n                <div className=\"bar1\" style={hamburger ? styles.bar1 : styles.bars}></div>\n                <div className=\"bar2\" style={hamburger ? styles.bar2 : styles.bars}></div>\n                <div className=\"bar3\" style={hamburger ? styles.bar3 : styles.bars}></div>\n            </div>\n\n            <div className={hamburger && width < 768 ? \n                \"navbar-nav d-block bg-dark w-100 text-right mt-3 pb-3 pt-5 px-3\" : \n                \"navbar-nav d-none d-md-flex px-3\"\n            }> \n                <NavLink to=\"/home\" className=\"nav-link mx-2\" onClick={() => setHamburger(false)}>בית</NavLink>\n                <div className=\"nav-link mx-2\">אודותינו</div>\n                <NavLink to=\"/products\" className=\"nav-link mx-2\" onClick={() => setHamburger(false)}>מוצרים</NavLink>\n                <div className=\"nav-link mx-2\">צור קשר</div>\n                {indexes.admin && <NavLink \n                    to=\"/admin\" \n                    className=\"nav-link mx-2\"\n                    style={{'color': url.includes('admin') && 'white'}}\n                    onClick={() => setHamburger(false)}\n                >איזור ניהול</NavLink>}\n            </div>\n\n            <div className=\"icons d-flex\" style={styles.icons}>\n                <span className={indexes.login? \"active navbar-nav connect ml-3\": \"navbar-nav connect ml-3\" } \n                    onClick={togglLogin}>\n                    <div className=\"nav-link\" id=\"login-text\">\n                        {indexes.user || 'התחבר'}\n                    </div>\n                    <i className=\"fas fa-user-circle\"></i>\n                </span>\n                <i \n                    className={indexes.cart? \"active fas fa-shopping-cart\": \"fas fa-shopping-cart\"} \n                    onClick={togglCart}\n                >{cartItems ? <span className=\"items-count\">{cartItems}</span>:''}</i>\n            </div>\n        </nav>\n    );\n}\n\nconst mapStateToProps = (state) => ({indexes: state.indexes, cartItems: state.cart.cart.items ? state.cart.cart.items.length : 0});\nconst mapDispatchToProps = (dispatch) => ({indexesManager: (type, state) => dispatch(indexesManager(type, state))})\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);\n","const Input = ({inputData: {type, field, placeholder, inputsFocus}, inputFn: {formik, setInputsFocus}}) => {\n    return(\n        <>\n            <input\n                noValidate=\"1\"\n                type={type} \n                id={field} \n                name={field} \n                placeholder={placeholder}\n                value={formik.values[field]}\n                className={inputsFocus[field]? \"form-control shadow\": \"form-control\"} \n                onChange={formik.handleChange}\n                onFocus={() => setInputsFocus(inputs => ({...inputs, [field]: true}))}\n                onBlur={(e) => {\n                    formik.handleBlur(e);\n                    setInputsFocus(inputs => ({...inputs, [field]: false}));\n                }}\n            />\n            {formik.touched[field] && formik.errors[field]? \n                <small className=\"text-danger text-right d-block\">{formik.errors[field]}</small>: null\n            }\n        </>\n    )\n}\n\nexport default Input;","import { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useFormik } from 'formik';\nimport { getCurrentUser, login, logout } from \"../services/usersService\";\nimport { indexesManager, LOGIN_INDEX, USER_INDEX } from \"../redux-store/indexes-reduser\";\nimport Input from \"./common/input\";\n\nconst SignIn = ({indexes, indexesManager}) => {\n\n    const[inputsFocus ,setInputsFocus] = useState({});\n    \n    const validate = values => {\n        const errors = {};\n        \n        if(!values.email) errors.email = ' *שדה חובה';\n        else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) errors.email = ' *אימייל לא תקין';\n\n        if(!values.password) errors.password = ' *שדה חובה';\n        else if(values.password.length < 6) errors.password = ' *אורך הסיסמא חייב להיות לפחות שישה תוים';\n        else if(values.password.length > 100) errors.password = ' *אורך הסיסמא לא יכול להיות גדול ממאה תוים';\n\n        return errors;\n    }\n\n    const onSubmit = async values => {\n        const {email, password} = values;\n        try {\n            await login(email, password);\n            indexesManager(USER_INDEX, getCurrentUser().name);\n        } catch(err) { console.dir(err) }\n    }\n\n    const formik = useFormik({\n        initialValues: {\n            email: indexes.signupData.email,\n            password: indexes.signupData.pass\n        },\n        validate,\n        onSubmit\n    });\n\n    const handleSignOut = () => {\n        logout();\n        indexesManager(USER_INDEX, '');\n        indexesManager(LOGIN_INDEX, false);\n    }\n\n    return (\n        <div className=\"login shadow\">\n            {!indexes.user? <div className=\"before-login\">\n                <form id=\"login_form\" className=\"form\" onSubmit={formik.handleSubmit}>\n                    <div className=\"mb-3\">\n                        <Input\n                            inputData={{type: 'email', field: 'email', placeholder: 'כתובת מייל', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <Input\n                            inputData={{type: 'password', field: 'password', placeholder: 'סיסמא', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-dark btn-block\">התחבר</button>\n                </form>\n                <p className=\"pt-2\"> עדיין לא פתחת חשבון? \n                    <Link \n                        to=\"/sign-up\" \n                        className=\"sign-up text-info\" \n                        onClick={() => indexesManager(LOGIN_INDEX, false)}\n                    > הירשם\n                    </Link>\n                </p>\n                <p>Email: admin@gmail.com <br/> Password: 123456</p>\n            </div>:\n            <div className=\"when-login\">\n                <h5>שלום <span className=\"user-name\">{indexes.user}</span></h5>\n                <h6> {'התחברת בהצלחה, קניה מהנה:)'}</h6>\n                <button id=\"log-out\" className=\"btn btn-dark btn-block\" onClick={handleSignOut}>התנתק</button>\n            </div>}\n        </div>\n    )\n}\n\nconst mapStateToProps = ({indexes}) => ({indexes});\nconst mapDispatchToProps = (dispatch) => ({indexesManager: (type, state) => dispatch(indexesManager(type, state))})\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);","const Pagination = ({pagesCount, currentPage, setCurrentPage}) => {\n    return (\n        <div id=\"pages-container\" className=\"pages-container\">\n            <button \n                id=\"page-prev\" \n                className=\"page-prev btn btn-secondary\"\n                onClick={() => setCurrentPage(currentPage => currentPage - 1)}\n                disabled={currentPage < 1}\n            > הקודם </button>\n            <div className=\"pages-inner-container mx-2\">\n                {pagesCount.map(page => <button\n                    key={page}\n                    className={currentPage === page - 1 ? \"page-btn btn m-1 btn-info\" : \"page-btn btn m-1 btn-outline-info\"} \n                    onClick={() => setCurrentPage(page - 1)}\n                >{page}</button>)}\n            </div>\n            <button \n                id=\"page-next\" \n                className=\"page-next btn btn-secondary\" \n                onClick={() => setCurrentPage(currentPage => currentPage + 1)}\n                disabled={currentPage >= pagesCount.length - 1}\n            > הבא </button>\n        </div>\n    );\n}\n\nexport default Pagination;","import { useState, useEffect } from 'react';\n\nconst useScrollPosition = () => {\n    const [scrollPosition, setScrollPosition] = useState(window.scrollY);\n    const pageHeight   = document.body.clientHeight;\n    const screenHeight = document.documentElement.clientHeight\n\n    useEffect(() => {\n        const handleScroll = () => setScrollPosition(window.scrollY);\n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, []);\n\n  return ({top: scrollPosition, bottom: pageHeight - (screenHeight + scrollPosition)});\n}\n\nexport default useScrollPosition;\n","import http from \"./http\";\nimport { apiUrl } from \"../config.json\";\n\nexport const getTableData = (table, sortBy, orderBy, skip, limit) => {\n    return http.get(`${apiUrl}/${table}?sort=${sortBy}&order=${orderBy}&skip=${skip}&limit=${limit}`)\n    .then(resp => resp.data)\n}\n\nexport const searchItems = (table, sortBy, orderBy, skip, limit, searchValue) => {\n    return http.get(`${apiUrl}/${table}/search?sort=${sortBy}&order=${orderBy}&skip=${skip}&limit=${limit}&q=${searchValue}`)\n    .then(resp => resp.data);\n}\n\nexport const getSearchCount = (table, searchValue) => http.get(`${apiUrl}/${table}/searchCount?q=${searchValue}`).then(resp => resp.data);\n\nexport const getCount = (table) => http.get(`${apiUrl}/${table}/count`).then(data => typeof data.data === 'number'? data.data : 0);\n\nexport const addItem = (table, item) => http.post(`${apiUrl}/${table}/add`, item).then(resp => resp.data);\n\nexport const uploadProdImg = (img, prodId = '') => http.post(`${apiUrl}/prods/addProdImg${prodId ? '?id=' + prodId : ''}`, img);\n\nexport const editItem = (table, itemId, item) => http.put(`${apiUrl}/${table}/edit?id=${itemId}`, item);\n\nexport const deleteItem = (table, itemId) => http.delete(`${apiUrl}/${table}/delete/${itemId}`);\n","import { useFormik } from \"formik\";\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { addItem, editItem } from \"../../../services/adminService\";\nimport { createCart } from \"../../../services/cartService\";\nimport Input from \"../../common/input\";\n\nconst AddAndEditUser = ({user, fn: {closeForm, reRender}}) => {\n\n    const[inputsFocus, setInputsFocus] = useState({});\n\n    const styles = {\n        formContainer: {width: '100%', height: '100%'},\n        form: {backgroundColor: '#ddd', maxWidth: '700px', maxHeight: '550px', overflowY: 'auto'}\n    }\n\n    const validate = values => {\n        const errors = {};\n\n        if(!values.name) errors.name = ' *שדה חובה';\n        else if(values.name.length < 2) errors.name = ' *אורך השם חייב להיות לפחות שני תוים';\n        else if(values.name.length > 100) errors.name = ' *אורך השם לא יכול להיות גדול ממאה תוים';\n\n        if(!values.email) errors.email = ' *שדה חובה';\n        else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) errors.email = ' *אימייל לא תקין';\n\n        if(!values.role) errors.role = ' *שדה חובה';\n        else if(values.role !== 'admin' && values.role !== 'regular') errors.role = '*ערך לא תקין בחר admin או regular'\n\n        if(!user) {\n            if(!values.password) errors.password = ' *שדה חובה';\n            else if(values.password.length < 6) errors.password = ' *אורך הסיסמא חייב להיות לפחות שישה תוים';\n            else if(values.password.length > 100) errors.password = ' *אורך הסיסמא לא יכול להיות גדול ממאה תוים';\n        }\n\n        return errors;\n    }\n\n    const onSubmit = async values => {\n        if(values.password) values.pass = values.password;\n        delete values.password;\n        try {\n            if(!user) {\n                let {_id} = await addItem('users', values);\n                await createCart(_id);\n            } else await editItem('users', user._id, values);\n            closeForm(null);\n            reRender(val => !val);\n            toast(`המשתמש ${user ? 'התעדכן' : 'התווסף'} בהצלחה`);\n        } catch(err) { toast.error('משהו השתבש נסה שנית מאוחר יותר') }\n    }\n\n    const formik = useFormik({\n        initialValues: {\n            name:  user ? user.name : '',\n            email: user ? user.email : '',\n            role:  user ? user.role  : '',\n            password: ''\n        },\n        validate,\n        onSubmit\n    });\n\n    return (\n        <div className=\"user-form-container d-flex justify-content-center align-items-center\" style={styles.formContainer}>\n            <form \n                className=\"form p-4 m-2\" \n                style={styles.form}\n                onSubmit={formik.handleSubmit}\n            >\n                <h4 className=\"text-center text-info\">פרטי המשתמש</h4>\n                <div className=\"row pt-2\">\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"name\">שם משתמש:</label>\n                        <Input\n                            inputData={{type: 'text', field: 'name', placeholder: 'שם משתמש', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"email\">כתובת מייל:</label>\n                        <Input\n                            inputData={{type: 'email', field: 'email', placeholder: 'כתובת מייל', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"password\">סיסמא:</label>\n                        <Input\n                            inputData={{type: 'password', field: 'password', placeholder: 'סיסמא', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"role\">סיווג:</label>\n                        <Input\n                            inputData={{type: 'text', field: 'role', placeholder: 'סיווג', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                </div>\n                <div className=\"buttons d-flex pt-2\">\n                    <button \n                        type=\"button\" id=\"close_form\" className=\"btn btn-outline-danger m-2 btn-block\"\n                        onClick={() => closeForm(null)}\n                    >סגור</button>\n                    <button type=\"submit\" id=\"submit\" className=\"btn btn-outline-primary m-2 btn-block\">שלח</button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default AddAndEditUser;","import { getDateFormated } from \"../../../services/generalFn\";\n\nconst UserRow = ({user, fn: {setUserToEdit, handleDeleteUser}, index, page}) => {\n    const {name, email, date_created, role, _id} = user;\n    return(\n        <tr>\n            <td>{(page * 10) + index + 1}</td>\n            <td>{name}</td>\n            <td>{email}</td>\n            <td>{getDateFormated(date_created)}</td>\n            <td>\n                <button className=\"btn btn-outline-info orders\">הזמנות</button>\n            </td>\n            <td>{role}</td>\n            <td>\n                <button className=\"btn btn-outline-primary m-1 edit\" onClick={() => setUserToEdit(user)}>עריכה</button>\n                <button className=\"btn btn-outline-danger delete\" onClick={() => handleDeleteUser(_id)}>מחיקה</button>\n            </td>\n        </tr>\n    );\n}\n\nexport default UserRow;","import useScrollPosition from \"../../../hooks/scrollPosition\";\nimport AddAndEditUser from \"./addAndEditUser\";\nimport UserRow from \"./userRow\";\n\nconst UsersTable = ({\n    tableData: users, currentPage, addItemIndex, itemToEdit: userToEdit, \n    fn: {reRender, handleDeleteItem, handleCloseForm, setAddItemIndex, setItemToEdit}\n}) => {\n\n    const scrollPositionBottom = useScrollPosition().bottom;\n    \n    const styles = { \n        addBtn: {bottom: scrollPositionBottom > 115 ? 20 : 115 - scrollPositionBottom} \n    };\n    \n    return(\n        <>\n            <table className=\"table table-striped\">\n                <thead className=\"thead-dark\">\n                    <tr>\n                        <th>#</th>\n                        <th>שם משתמש</th>\n                        <th>אימייל</th>\n                        <th>תאריך כניסה</th>\n                        <th>הזמנות</th>\n                        <th>סיווג</th>\n                        <th>עריכה & מחיקה</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {users.map((user, index) => <UserRow \n                        key={user._id}\n                        user={user} \n                        fn={{setUserToEdit: setItemToEdit, handleDeleteUser: handleDeleteItem}}\n                        index={index}\n                        page={currentPage}\n                    />)}\n                </tbody>\n            </table>\n            <i id=\"add-btn\" className=\"fas fa-plus shadow bg-secondary\" \n                style={styles.addBtn}\n                onClick={() => setAddItemIndex(!addItemIndex)}\n            />\n            {\n            addItemIndex ? \n                <div className=\"dark-form-cover\"  onClick={handleCloseForm}>\n                    <AddAndEditUser fn={{closeForm: setAddItemIndex, reRender}}/>\n                </div>:\n            userToEdit ? \n                <div className=\"dark-form-cover\"  onClick={handleCloseForm}>\n                    <AddAndEditUser user={userToEdit} fn={{closeForm: setItemToEdit, reRender}}/>\n                </div>\n            :''}\n        </>\n    );\n}\n\nexport default UsersTable;","import { NavLink } from \"react-router-dom\";\nimport useWindowSize from '../../hooks/screenSize';\n\nconst AdminNavBar = ({currentTable, fn: {setSortBy, setOrderBy, showAll, showPages}}) => {\n\n    const { width } = useWindowSize()\n\n    return(\n        <>\n        <div className=\"nav-space\" style={{height: width > 767 ? '10px' : '90px'}}></div>\n        <div className=\"w-100 admin-nav-container bg-secondary d-flex justify-content-between align-items-center shadow\">\n            <div className={\n                \"p-1 pr-2 d-block d-md-flex float-right justify-content-start align-items-center text-right\"\n            } id=\"admin-nav\">\n                <NavLink \n                    to=\"/admin/prods\" \n                    className=\"nav-link\" \n                    style={{'color': currentTable === 'prods' && 'white'}}\n                >מוצרים</NavLink>\n                <NavLink \n                    to=\"/admin/users\" \n                    className=\"nav-link\"\n                    style={{'color': currentTable === 'users' && 'white'}}\n                >משתמשים</NavLink>\n                <div className=\"nav-link\">הזמנות</div>\n            </div>\n            <div className=\"sort-select d-block d-md-flex ml-4 text-left\">\n                <select onChange={({target: {value}}) => value === '0'? showAll() : showPages(value)} className=\"d-block mr-3\">\n                    <option value=\"10\">חלק לעמודים</option>\n                    <option value=\"0\">הצג הכל</option>\n                </select>\n                <select onChange={({target: {value}}) => setSortBy(value)} id=\"sortBy\" className=\"d-block my-3 mr-3\">\n                    <option value=\"_id\">מיין לפי</option>\n                    <option value=\"name\">שם</option>\n                    <option value=\"date_created\">תאריך</option>\n                    {currentTable === 'prods' && <option value=\"price\">מחיר</option>}\n                    {currentTable === 'users' && <option value=\"email\">אימייל</option>}\n                </select>\n                <select onChange={({target: {value}}) => setOrderBy(value)} id=\"orderBy\" className=\"d-block mr-3\">\n                    <option value=\"1\">סדר עולה</option>\n                    <option value=\"-1\">סדר יורד</option>\n                </select>\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport default AdminNavBar;","import useWindowSize from \"../../../hooks/screenSize\";\nimport { getDateFormated } from \"../../../services/generalFn\";\n\nconst ProductRow = ({ prod, fn: {handleDeleteProd, setProdToEdit}, index, page }) => {\n    const {name, price, description, more_info, image, date_created, _id} = prod;\n    const { width } = useWindowSize();\n    const divStyle = {height: width < 1029 ? '80px' : '50px'};\n    return(\n        <tr>\n            <td>{(page * 10) + index + 1}</td>\n            <td className=\"text-success\">{name}</td>\n            <td><div style={divStyle}>{description}</div></td>\n            <td><div className=\"text-left\" style={divStyle}><small>{more_info}</small></div></td>\n            <td className=\"text-success\">{price.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} ₪</td>\n            <td><img src={image} alt=\"\"/></td>\n            <td>{getDateFormated(date_created)}</td>\n            <td>\n                <button className=\"btn btn-outline-primary edit m-1\" onClick={() => setProdToEdit(prod)}>עריכה</button>\n                <button className=\"btn btn-outline-danger delete\" onClick={() => handleDeleteProd(_id)}>מחיקה</button>\n            </td>\n        </tr>\n    );\n}\n\nexport default ProductRow;","import { useFormik } from \"formik\";\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { addItem, editItem, uploadProdImg } from \"../../../services/adminService\";\nimport Input from \"../../common/input\";\n\nconst AddAndEditProd = ({prod, fn: {closeForm, reRender}}) => {\n\n    const[prodImg, setProdImg] = useState(prod ? prod.image : '')\n    const[inputsFocus, setInputsFocus] = useState({});\n\n    const styles = {\n        formContainer: {width: '100%', height: '100%'},\n        form: {backgroundColor: '#ddd', maxWidth: '700px', maxHeight: '550px', overflowY: 'auto'},\n        textarea: {height: '90%', whitSpace: 'pre-wrap'},\n        image: {\n            backgroundImage: `url('${prodImg}')`,\n            backgroundSize: 'contain', \n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            minHeight: '150px', transform: 'scale(0.9)'\n        }\n    }\n\n    const validate = values => {\n        const errors = {};\n\n        if(!values.name) errors.name = ' *שדה חובה';\n        else if(values.name.length < 2) errors.name = ' *אורך השם חייב להיות לפחות שני תוים';\n        else if(values.name.length > 100) errors.name = ' *אורך השם לא יכול להיות גדול ממאה תוים';\n\n        if(!values.description) errors.description = ' *שדה חובה';\n        else if(values.description.length < 6) errors.description = ' *אורך התיאור חייב להיות לפחות שישה תוים';\n        else if(values.description.length > 1000) errors.description = ' *אורך התיאור לא יכול להיות גדול מאלף תוים';\n\n        if(!values.price) errors.price = ' *שדה חובה';\n        else if(values.price < 10) errors.price = ' * המחיר חייב להיות לפחות שני ספרות';\n        else if(values.price > 9999) errors.price = ' *המחיר לא יכול להיות יותר מארבע ספרות';\n\n        if(!values.more_info) errors.more_info = ' *שדה חובה';\n        else if(values.more_info.length < 6) errors.more_info = ' *אורך האינפורמציה חייב להיות לפחות שישה תוים';\n        else if(values.more_info.length > 1000) errors.more_info = ' *אורך האינפורמציה לא יכול להיות גדול מאלף תוים';\n\n        return errors;\n    }\n\n    const onSubmit = async values => {\n        let imgUrl = await uploadImage();\n        if(!imgUrl) return;\n        values.image = imgUrl;\n        try {\n            if(!prod) await addItem('prods', values);\n            else await editItem('prods', prod._id, values);\n            closeForm(null);\n            reRender(val => !val);\n            toast(`הפריט ${prod ? 'התעדכן' : 'התווסף'} בהצלחה`);\n        } catch(err) { toast.error('משהו השתבש נסה שנית מאוחר יותר') }\n    }\n\n    const formik = useFormik({\n        initialValues: {\n            name:        prod ? prod.name : '',\n            description: prod ? prod.description : '',\n            price:       prod ? prod.price : '',\n            more_info:   prod ? prod.more_info : '',\n            image:       ''\n        },\n        validate,\n        onSubmit\n    });\n\n\n    const uploadImage = async () => {\n        let image = document.querySelector('#image').files[0];\n\n        if(!image && !prod) return toast.error('לא ניתן להוסיף מוצר ללא תמונה') && null;\n        else if(!image && prod) return prod.image;\n\n        let body  = new FormData();\n        body.append('myImg', image);\n\n        try {\n            let {data: {imgUrl}} = await uploadProdImg(body, prod ? prod._id : '');\n            return imgUrl;\n        } catch(err) { \n            toast.error('אירעה שגיאה בהעלאת התמונה נסה שנית מאוחר יותר');\n            console.dir(err)\n            return prod ? prod.image : null \n        }\n    }\n\n    const displayNewImage = (input) => {\n        if(!input.value) return;\n        let fileReader = new FileReader();\n        fileReader.onload = (e) => setProdImg(e.target.result);\n        fileReader.readAsDataURL(input.files[0]);\n    }\n\n    return (\n        <div className=\"prod-form-container d-flex justify-content-center align-items-center\" style={styles.formContainer}>\n            <form \n                className=\"form p-4 m-2\" \n                style={styles.form}\n                onSubmit={formik.handleSubmit}\n            >\n                <h4 className=\"text-center text-info\">פרטי המוצר</h4>\n                <div className=\"row pt-2\">\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"name\">שם מוצר:</label>\n                        <Input\n                            inputData={{type: 'text', field: 'name', placeholder: 'שם מוצר', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"description\">תיאור:</label>\n                        <Input\n                            inputData={{type: 'text', field: 'description', placeholder: 'תיאור', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"price\">מחיר:</label>\n                        <Input\n                            inputData={{type: 'number', field: 'price', placeholder: 'מחיר', inputsFocus}}\n                            inputFn={{formik, setInputsFocus}}\n                        />\n                    </div>\n                    <div className=\"form-group col-sm-12 col-md-6\">\n                        <label className=\"d-block text-right\" htmlFor=\"image\">תמונה:</label>\n                        <div className=\"custom-file\">\n                            <input\n                                type=\"file\" id=\"image\" name=\"image\"\n                                className={inputsFocus.image? \"shadow custom-file-input\": \"custom-file-input\"} \n                                onChange={({target}) => displayNewImage(target)}\n                                onFocus={() => setInputsFocus(inputs => ({...inputs, image: true}))}\n                                onBlur={() => setInputsFocus(inputs => ({...inputs, image: false}))}\n                            />\n                            <label htmlFor=\"image\" className=\"custom-file-label\">בחר תמונה</label>\n                        </div>\n                    </div>\n                    <div className=\"d-md-none col-12\" style={styles.image}></div>\n\n                    <div className=\"form-group col-sm-12 col-md-6\" style={{minHeight: '150px'}}>\n                        <label className=\"d-block text-right\" htmlFor=\"more_info\">מידע נוסף:</label>\n                        <textarea \n                            type=\"text\" className=\"form-control\" name=\"more_info\" id=\"more_info\" placeholder=\"מידע נוסף\"\n                            style={styles.textarea}\n                            value={formik.values.more_info}\n                            onChange={formik.handleChange}\n                            onFocus={() => setInputsFocus(inputs => ({...inputs, more_info: true}))}\n                            onBlur={(e) => {\n                                formik.handleBlur(e);\n                                setInputsFocus(inputs => ({...inputs, more_info: false}));\n                            }}\n                        ></textarea>\n                    </div>\n                    <div className=\"d-none d-md-block col-6\" style={styles.image}></div>\n                </div>\n                <div className=\"buttons d-flex pt-2\">\n                    <button \n                        type=\"button\" id=\"close_form\" className=\"btn btn-outline-danger m-2 btn-block\"\n                        onClick={() => closeForm(null)}\n                    >סגור</button>\n                    <button type=\"submit\" id=\"submit\" className=\"btn btn-outline-primary m-2 btn-block\">שלח</button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default AddAndEditProd;","import ProductRow from \"./productRow\";\nimport AddAndEditProd from \"./addAndEditProd\";\nimport useScrollPosition from \"../../../hooks/scrollPosition\";\n\nconst ProductsTable = ({\n    tableData: products, currentPage, addItemIndex, itemToEdit: prodToEdit, \n    fn: {reRender, handleDeleteItem, handleCloseForm, setAddItemIndex, setItemToEdit}\n}) => {\n\n    const scrollPositionBottom = useScrollPosition().bottom;\n\n    const styles = { \n        addBtn: {bottom: scrollPositionBottom > 115 ? 20 : 115 - scrollPositionBottom} \n    };\n    \n    return (\n        <>\n            <table className=\"table table-striped\">\n                <thead className=\"thead-dark\">\n                    <tr>\n                        <th>#</th>\n                        <th>שם מוצר</th>\n                        <th>תיאור</th>\n                        <th>מידע נוסף</th>\n                        <th>מחיר</th>\n                        <th>תמונה</th>\n                        <th>תאריך הוספה</th>\n                        <th>עריכה & מחיקה</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {products.map((prod, index) => <ProductRow \n                        key={prod._id}\n                        prod={prod} \n                        fn={{setProdToEdit: setItemToEdit, handleDeleteProd: handleDeleteItem}} \n                        index={index} \n                        page={currentPage}\n                    />)}\n                </tbody>\n            </table>\n            <i id=\"add-btn\" className=\"fas fa-plus shadow bg-secondary\" \n                style={styles.addBtn}\n                onClick={() => setAddItemIndex(!addItemIndex)}\n            />\n\n            {addItemIndex ? \n                <div className=\"dark-form-cover\" onClick={handleCloseForm}>\n                    <AddAndEditProd fn={{closeForm: setAddItemIndex, reRender}}/>\n                </div>\n            :prodToEdit ? \n                <div className=\"dark-form-cover\" onClick={handleCloseForm}>\n                    <AddAndEditProd prod={prodToEdit} fn={{closeForm: setItemToEdit, reRender}}/>\n                </div>:''\n            }\n        </>\n    )\n}\n\nexport default ProductsTable;","import Pagination from \"./pagination\";\nimport UsersTable from \"./usersTable/usersTable\";\nimport AdminNavBar from \"./adminNavBar\";\nimport ProductsTable from \"./productsTable/productsTable\";\nimport { useState, useEffect } from \"react\";\nimport { deleteItem, getCount, getSearchCount, getTableData, searchItems } from \"../../services/adminService\";\nimport { toast } from \"react-toastify\";\nimport { checkParentsClass } from \"../../services/generalFn\";\n\nconst AdminApp = ({table}) => {\n\n    const[currentTable, setCurrentTable] = useState(table);\n    const[tableData, setTableData] = useState({});\n    const[currentPage, setCurrentPage] = useState(0);\n    const[sortBy, setSortBy] = useState('_id');\n    const[orderBy, setOrderBy] = useState(1);\n    const[itemsCount, setItemsCount] = useState(0);\n    const[pagesCount, setPagesCount] = useState([]);\n    const[amontToShow ,setAmontToShow] = useState(10);\n    const[reRender ,setReRender] = useState(false);\n    const[searchValue, setSearchValue] = useState('');\n    const[loading, setLoading] = useState(false);\n    const[showAllIndex, setShowAllIndex] = useState(false);\n    const[addItemIndex, setAddItemIndex] = useState(false);\n    const[itemToEdit, setItemToEdit] = useState(null);\n\n    useEffect(() => {\n        let data, count, pages = [];\n        (async () => {\n            setLoading(true);\n            if(!searchValue) {\n                data  = await getTableData(currentTable, sortBy, orderBy, currentPage * 10, amontToShow);\n                count = await getCount(currentTable);\n            } else {\n                data  = await searchItems(currentTable, sortBy, orderBy, currentPage * 10, amontToShow, searchValue);\n                count = await getSearchCount(currentTable, searchValue);\n            }\n            setLoading(false);\n            showAllIndex && setAmontToShow(count);\n            let pagesCount = !showAllIndex ? Math.ceil(count / amontToShow): 1;\n            for(let i = 1; i <= pagesCount; i++) pages.push(i);\n            setTableData({[currentTable]: data});\n            setItemsCount(count);\n            setPagesCount(pages);\n        })();\n    }, [currentTable, sortBy, orderBy, currentPage, amontToShow, showAllIndex, reRender, searchValue]);\n\n    useEffect(() => {\n        setCurrentTable(table);\n        setCurrentPage(0);\n    }, [table]);\n\n    useEffect(() => setCurrentPage(0), [searchValue]);\n\n    const showAll = () => {\n        setPagesCount([]);\n        setCurrentPage(0);\n        setShowAllIndex(index => !index);\n        setAmontToShow(itemsCount);\n    }\n\n    const showPages = (value) => {\n        setShowAllIndex(index => !index);\n        setAmontToShow(value);\n    }\n\n    const handleDeleteItem = async (itemId) => {\n        let item = currentTable === 'users' ? 'משתמש' : 'מוצר';\n        if(!window.confirm(`האם אתה בטוח שאתה רוצה למחוק את ה${item}?`)) return;\n        try {\n            await deleteItem(currentTable, itemId);\n            setReRender(val => !val);\n            toast(`ה${item} נמחק בהצלחה`);\n        } catch(err) { console.log(err); toast.error('משהו השתבש נסה שוב מאוחר יותר') };\n    }\n\n    const handleCloseForm = ({target: element}) => {\n        if(checkParentsClass(element, 'form')) return;\n        if(addItemIndex) setAddItemIndex(false);\n        else if(itemToEdit) setItemToEdit(null);\n    }\n\n    return (\n        <div style={{paddingBottom: '125px'}}>\n            <AdminNavBar\n                fn={{setSortBy, setOrderBy, showAll, showPages}}\n                currentTable={currentTable}\n            />\n\n            <div className=\"admin-tables-head d-flex justify-content-between\">\n                <h6 className=\"pages-text text-right\">\n                    עמוד <span className=\"text-info\">{currentPage + 1}</span> {' '}\n                    מתוך <span className=\"text-info\">{pagesCount.length}</span>\n                </h6>\n                <form className=\"form-inline d-flex justify-content-center md-form form-sm active-pink active-pink-2 mt-5 search-admin\">\n                    <i className=\"fas fa-search mb-3\" aria-hidden=\"true\"></i>\n                    <input id=\"search\" className=\"form-control form-control-sm ml-3 w-75\" type=\"text\" placeholder=\"חפש\"\n                        aria-label=\"Search\" onChange={({target: {value}}) => setSearchValue(value)}/>\n                </form>\n            </div>\n\n            <div className=\"table-container\">\n                {currentTable === 'prods' && tableData[currentTable] ? <ProductsTable \n                    tableData={tableData[currentTable]} \n                    currentPage={currentPage}\n                    itemToEdit={itemToEdit}\n                    addItemIndex={addItemIndex}\n                    fn={{reRender: setReRender, handleDeleteItem, handleCloseForm, setAddItemIndex, setItemToEdit}}\n                />: \n                currentTable === 'users' && tableData[currentTable] ? <UsersTable\n                    tableData={tableData[currentTable]} \n                    currentPage={currentPage}\n                    itemToEdit={itemToEdit}\n                    addItemIndex={addItemIndex}\n                    fn={{reRender: setReRender, handleDeleteItem, handleCloseForm, setAddItemIndex, setItemToEdit}}\n                />: ''}\n            </div>\n\n            {pagesCount.length > 1 && <Pagination \n                pagesCount={pagesCount} \n                currentPage={currentPage} \n                setCurrentPage={setCurrentPage} \n            />}\n            {loading && \n                <div id=\"loading\" className=\"d-flex align-items-center justify-content-center\">\n                    <i className=\"fas fa-spinner fa-spin m-3\" ></i>\n                    <h2>טוען...</h2>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default AdminApp;","import useScrollPosition from \"../../hooks/scrollPosition\";\n\nconst Tooltip = ({content, event}) => {\n\n    const scrollPositionTop = useScrollPosition().top\n    const {pageY: top, pageX: left} = event;\n\n    const styles = {\n        tooltip: {maxWidth: '220px', backgroundColor: '#343a40', color: 'white', padding: '10px', borderRadius: '5.5px', boxShadow: '0 0 6px gray', whitSpace: 'pre-wrap', position: 'fixed', top: `${top - scrollPositionTop}px`, left: `${left + 10}px`, zIndex: 5}\n    }\n\n    return (\n        <div className=\"tooltip-box\" style={styles.tooltip}>{content}</div>\n    )\n}\n\nexport default Tooltip;","import { Link } from \"react-router-dom\";\nimport useWindowSize from '../../hooks/screenSize';\nimport { useState } from \"react\";\nimport Tooltip from \"../common/tooltip\";\n\nconst Product = ({prod: {name, description, price, _id}, fn: {handleAddToCart}}) => {\n\n    const[tooltip, setTooltip] = useState(null);\n    const { width } = useWindowSize();\n\n    return (\n        <div className=\"col-lg-6 p-2\">\n            <div className=\"border shadow\">\n                <Link to={`/product-details/${_id}`}>\n                    <div \n                        className={ width > 515 ?\n                            \"img-container w-50 h-100 float-right\" :\n                            \"img-container w-100 h-100 float-right\"\n                        }\n                        style={{background: \"url(../images/Vitamin.jpeg)no-repet center\"}}\n                    ></div>\n                </Link>\n                <h3 className=\"mt-4 text-center text-info\">{name}</h3>\n                <h5 className=\"mt-2 text-center text-success\">{description}</h5>\n                <h5 className=\"mt-2 text-center text-info\">{price.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} ₪</h5>\n                <i \n                    className=\"fas fa-cart-plus add-to-cart\" \n                    onClick={() => handleAddToCart(_id, price)}\n                    onMouseOver={(e) => setTooltip(e)}\n                    onMouseLeave={() => setTooltip(null)}\n                ></i>\n            </div>\n            {tooltip ? <Tooltip content={'Add to cart'} event={tooltip}/>:null}\n        </div>\n    );\n}\n\nexport default Product;","import { ADD_TO_CART, CHANGE_AMOUNT, editCart } from \"../../redux-store/cart-reducer\";\nimport { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport Product from \"./product\"\nimport store from \"../../redux-store/redux-store\";\n\nconst Products = ({prods, cart, editCart}) => {\n\n    const [products, setProducts] = useState(prods);\n    const [filteredData, setFilteredData] = useState([]);\n    const [searchValue, setSearchValue] = useState('');\n\n    useEffect(() => {\n        let subscription = store.subscribe(() => setProducts(store.getState().products.prods));\n        return subscription;\n    }, []);\n    \n    useEffect(() => search(), [searchValue]);\n    useEffect(() => setFilteredData(products), [products]);\n\n    const handleAddToCart = async (prod_id, price, amount = 1) => {\n        let isProdInCart = cart.items[cart.items.findIndex(item => item.prod_id === prod_id)];\n        if(isProdInCart) {\n            let { prod_id, payment} = isProdInCart;\n            let prod = {prod_id, amount: isProdInCart.amount, payment};\n            prod.amount += amount;\n            prod.payment = price * isProdInCart.amount;\n            await editCart(CHANGE_AMOUNT, prod);\n            toastMessages('התעדכן');\n        } else {\n            let prod = { prod_id, amount, payment: price * amount};\n            await editCart(ADD_TO_CART, prod);\n            toastMessages('התווסף');\n        }\n    }\n\n    const toastMessages = (msg) => {\n        let error = store.getState().cart.error;\n        if(!error) toast(`הפריט ${msg} בהצלחה`);\n        else toast.error('משהו השתבש נסה שוב מאוחר יותר');\n    }\n\n    const search = () => setFilteredData(products.filter(prod => (\n        prod.name.toLowerCase().includes(searchValue.toLowerCase()) || \n        prod.description.toLowerCase().includes(searchValue.toLowerCase()))));\n\n    return (\n        <div className=\"container products-container mt-5\">\n            <form id=\"form\" className=\"form-inline d-flex justify-content-center md-form form-sm active-pink active-pink-2 mt-2\">\n                <i id=\"form_btn\" className=\"fas fa-search mb-3\" aria-hidden=\"true\"></i>\n                <input \n                    id=\"search\" \n                    className=\"form-control form-control-sm ml-3 w-75\" \n                    type=\"text\" \n                    placeholder=\"חפש\"\n                    aria-label=\"Search\" \n                    onChange={({target: {value}}) => setSearchValue(value)}/>\n            </form>\n            <div id=\"parent\" className=\"row\">\n                {(filteredData.length)? filteredData.map((prod) => <Product \n                    key={prod._id} \n                    prod={prod} \n                    fn={{handleAddToCart}}\n                />):\n                searchValue.length? \n                <div className=\"jumbotron w-100 p-5 m-md-5 mt-5 text-center text-secondary shadow\">\n                    <h4>{'לא נמצאו מוצרים התואמים למילות החיפוש שלך :('}</h4>\n                </div>\n                :''}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({prods: state.products.prods, cart: state.cart.cart});\nconst mapDispatchToProps = (dispatch) => ({editCart: (type, prod) => dispatch(editCart(type, prod))})\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(Products);","import * as cartReducer from './cart-reducer';\nimport * as prodsReducer from './products-reducer';\nimport * as indexesReducer from './indexes-reduser';\nimport store from './redux-store';\n\nconst reduxIndex = {\n    ...cartReducer,\n    ...prodsReducer,\n    ...indexesReducer,\n    store\n}\n\nexport default reduxIndex;","import Input from './common/input';\nimport { toast } from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router-dom';\nimport { userSignUp } from '../services/usersService';\nimport { createCart } from '../services/cartService';\nimport { indexesManager, LOGIN_INDEX, SIGNUP_DATA } from '../redux-store/indexes-reduser';\n\nconst SignUp = ({indexesManager}) => {\n\n    const[inputsFocus ,setInputsFocus] = useState({});\n\n    const history = useHistory();\n\n    const validate = values => {\n        const errors = {};\n\n        if(!values.name) errors.name = ' *שדה חובה';\n        else if(values.name.length < 2) errors.name = ' *אורך השם חייב להיות לפחות שני תוים';\n        else if(values.name.length > 100) errors.name = ' *אורך השם לא יכול להיות גדול ממאה תוים';\n\n        if(!values.email) errors.email = ' *שדה חובה';\n        else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) errors.email = ' *אימייל לא תקין';\n\n        if(!values.password) errors.password = ' *שדה חובה';\n        else if(values.password.length < 6) errors.password = ' *אורך הסיסמא חייב להיות לפחות שישה תוים';\n        else if(values.password.length > 100) errors.password = ' *אורך הסיסמא לא יכול להיות גדול ממאה תוים';\n\n        if(!values.verifyPass) errors.verifyPass = ' *שדה חובה';\n        else if(values.verifyPass !== values.password) errors.verifyPass = ' *הסיסמא אינה תואמת לסיסמא שהזנת';\n        \n        return errors;\n    }\n\n    const onSubmit = async values => {\n        let user = { name: values.name, email: values.email, pass: values.password };\n        try {\n            let userInfo = await userSignUp(user);\n            await createCart(userInfo._id);\n\n            toast(`${user.name} ברוך בואך לאתר ויטמינים`);\n            history.replace('home');\n            \n            indexesManager(SIGNUP_DATA, user);\n            indexesManager(LOGIN_INDEX, true);\n        } catch(err) { console.dir(err) }\n    }\n\n    const formik = useFormik({\n        initialValues: {\n            name: '',\n            email: '',\n            password: '',\n            verifyPass: ''\n        },\n        validate,\n        onSubmit\n    });\n\n    return(\n        <div className=\"container py-5\">\n            <h1 className=\"text-center text-info pt-5\">טופס הרשמה</h1>\n            <h6 className=\"text-center text-primary\">מלא את השדות הנדרשים והצטרף למשפחת הלקוחות שלנו:)</h6>\n            <form className=\"form sign-up-form pb-5 pt-3 mx-md-5 px-xl-5\" onSubmit={formik.handleSubmit}>\n                <label className=\"pr-1 mt-2 text-right d-block\" htmlFor=\"name\">שם משתמש</label>\n                <Input\n                    inputData={{type: 'text', field: 'name', placeholder: 'שם משתמש', inputsFocus}}\n                    inputFn={{formik, setInputsFocus}}\n                />\n                <label className=\"pr-1 mt-2 text-right d-block\" htmlFor=\"email\">כתובת מייל</label>\n                <Input\n                    inputData={{type: 'email', field: 'email', placeholder: 'כתובת מייל', inputsFocus}}\n                    inputFn={{formik, setInputsFocus}}\n                />\n                <label className=\"pr-1 mt-2 text-right d-block\" htmlFor=\"password\">סיסמא</label>\n                <Input\n                    inputData={{type: 'password', field: 'password', placeholder: 'סיסמא', inputsFocus}}\n                    inputFn={{formik, setInputsFocus}}\n                />\n                <label className=\"pr-1 mt-2 text-right d-block\" htmlFor=\"verifyPass\">אימות סיסמא</label>\n                <Input\n                    inputData={{type: 'password', field: 'verifyPass', placeholder: 'אימות סיסמא', inputsFocus}}\n                    inputFn={{formik, setInputsFocus}}\n                />\n                <button type=\"submit\" className=\"btn btn-dark btn-block my-5\">הירשם</button>\n            </form>\n        </div>\n    );\n}\n\nconst mapStateToProps = ({indexes}) => ({indexes});\nconst mapDispatchToProps = (dispatch) => ({indexesManager: (type, state) => dispatch(indexesManager(type, state))})\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import { ADD_TO_CART, CHANGE_AMOUNT, editCart } from \"../../redux-store/cart-reducer\";\nimport { getProductById } from \"../../services/productsService\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport useWindowSize from '../../hooks/screenSize';\nimport store from \"../../redux-store/redux-store\";\nimport Tooltip from \"../common/tooltip\";\n\nconst ProdDetails = ({match: {params: { id: prodId }}, editCart, cart}) => {\n\n    const[amount, setAmount] = useState(1);\n    const[product, setProduct] = useState({});\n    const[iHover, setIHover] = useState(false);\n    const[tooltip, setTooltip] = useState(null)\n\n    const { width } = useWindowSize()\n\n    const styles = {\n        image:   {background: `url(${product.image})no-repeat center`, width: '100%', height: '50vh', maxWidth: '800px'},\n        more_info: {direction: 'ltr', maxWidth: '800px', columnCount: width > 700 ? 2 : 1},\n        bottom:  {height: '75px', backgroundColor: '#ddd'},\n        amount:  {height: '25px', width: '25px', border: '1px solid gray', fontSize: '14px', outline: 'none',backgroundColor: '#f0f0f0'},\n        buttons: {backgroundColor: '#c8c8c8', fontWeight: 'bold', cursor: 'pointer'},\n        minus:   {borderBottomLeftRadius: '7px', borderTopLeftRadius: '7px'},\n        plus:    {borderBottomRightRadius: '7px', borderTopRightRadius: '7px'},\n        i:       {color: 'white', padding: '18px', fontSize: '1.3rem', borderRadius: '50%', backgroundColor: '#aaaaaa', transition: '0.5s'},\n        iOnHover: {transform: 'scale(1.1)', backgroundColor: '#585858'}\n    }\n\n    useEffect(() => getProduct(), [])\n\n    const getProduct = async () => {\n        let prod = await getProductById(prodId);\n        setProduct(prod);\n    }\n\n    const changeAmount = (pointer) => {\n        if(amount + pointer > 99 || amount + pointer < 1) return;\n        setAmount(amount => amount + pointer);\n    }\n\n    const handleAddToCart = async () => {\n        let isProdInCart = cart.items[cart.items.findIndex(item => item.prod_id === product._id)];\n        if(isProdInCart) {\n            let { prod_id, payment} = isProdInCart;\n            let prod = {prod_id, amount: isProdInCart.amount, payment};\n            prod.amount += amount;\n            prod.payment = price * isProdInCart.amount;\n            await editCart(CHANGE_AMOUNT, prod);\n            toastMessages('התעדכן');\n        } else {\n            let prod = { prod_id: product._id, amount, payment: price * amount};\n            await editCart(ADD_TO_CART, prod);\n            toastMessages('התווסף');\n        }\n    }\n\n    const toastMessages = (msg) => {\n        let error = store.getState().cart.error;\n        if(!error) toast(`הפריט ${msg} בהצלחה`);\n        else toast.error('משהו השתבש נסה שוב מאוחר יותר');\n    }\n\n    let { name, description, more_info, price } = product;\n\n    return (\n        <>\n        {product._id && \n        <>\n            <h1 className=\"text-center text-success mt-5 pt-5\">{name}</h1>\n            <h5 className=\"mt-2 text-center text-info\">{description}</h5>\n            <div \n                className=\"img-container mt-2 mx-auto\"\n                style={styles.image}\n            ></div>\n            <div className=\"p-3 pt-5 p-lg-5 mx-auto\" style={styles.more_info}>\n                <p className=\"text-justify text-dark\">{more_info}</p>\n            </div>\n            <div className=\"bottom d-flex align-items-center justify-content-around\" style={styles.bottom}>\n                <div className=\"amount d-flex\">\n                    <div \n                        className=\"increace plus d-flex justify-content-center\" \n                        style={{...styles.amount, ...styles.buttons, ...styles.plus}} \n                        onClick={() => changeAmount(1)}\n                    >+</div>\n                    <div className=\"text-center current-amount d-flex justify-content-center\" style={styles.amount}>{amount}</div>\n                    <div \n                        className=\"reduce minus d-flex justify-content-center\" \n                        style={{...styles.amount, ...styles.buttons, ...styles.minus}} \n                        onClick={() => changeAmount(-1)}\n                    >-</div>\n                </div>\n                <h5 className=\"mt-2 text-center text-success original-price\">{price} ₪</h5>\n                {amount > 1 && <span className=\"text-info prod-final-price\">\n                    סך הכל {(price * amount).toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} ₪\n                </span>}      \n                <i \n                    className=\"fas fa-cart-plus shadow add-to-cart-2\"\n                    style={iHover ? {...styles.i,  ...styles.iOnHover} : styles.i}\n                    onMouseEnter={() => setIHover(true)}\n                    onMouseOver={(e) => setTooltip(e)}\n                    onMouseLeave={() => {\n                        setIHover(false);\n                        setTooltip(null);\n                    }}\n                    onClick={() => handleAddToCart()}\n                ></i>\n            </div>\n            <div className=\"footer-place\" style={{height: '100px'}}></div>\n        </>}\n        {tooltip ? <Tooltip content={'Add to cart'} event={tooltip}/>:null}\n        </>\n    );\n}\n\nconst mapStateToProps = (state) => ({cart: state.cart.cart});\nconst mapDispatchToProps = (dispatch) => ({editCart: (type, prod) => dispatch(editCart(type, prod))})\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(ProdDetails);","import { Redirect, Route } from 'react-router-dom';\nimport {checkAdminToken, checkIfAdmin} from '../services/usersService';\n\nconst ProtectedRoute = ({component: Componenet, table}) => {\n    checkAdminToken();\n    return <Route render={(props) => {\n        if(!checkIfAdmin()) return <Redirect to={{pathname: \"/\", state: {from: props.location}}}/>\n        else return <Componenet {...props} table={table}/>\n    }}/>\n}\n\nexport default ProtectedRoute;","import './App.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Home from './components/Home';\nimport Cart from './components/cart/cart';\nimport Footer from './components/footer';\nimport NavBar from './components/navBar';\nimport SignIn from './components/signin';\nimport AdminApp from './components/admin/adminApp';\nimport Products from './components/products/products';\nimport reduxIndex from './redux-store/index.redux';\nimport { Provider } from \"react-redux\";\nimport { ToastContainer } from 'react-toastify';\nimport { checkParentsClass } from './services/generalFn';\nimport { useState, useEffect } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { checkIfAdmin, getCurrentUser } from './services/usersService';\nimport SignUp from './components/signup';\nimport ProdDetails from './components/products/prodDetails';\nimport ProtectedRoute from './components/protectedRoute';\n\nconst { getProducts, getCart, indexesManager, store, CART_INDEX, LOGIN_INDEX, USER_INDEX, ADMIN_INDEX } = reduxIndex;\n\nfunction App() {\n\n  const [indexes, setIndexes] = useState({});\n  \n  useEffect(() => {\n    (async () => {\n      await store.dispatch(getProducts());\n      getCurrentUser() && await store.dispatch(getCart());\n    })();\n    getCurrentUser() && store.dispatch(indexesManager(USER_INDEX, getCurrentUser().name));\n    store.dispatch(indexesManager(ADMIN_INDEX, checkIfAdmin()));\n    const subscription = store.subscribe(() => setIndexes(store.getState().indexes));\n    return subscription;\n  }, []);\n\n  const pageNotFound = <div className=\"m-3 m-md-5 mt-5 pt-5\">\n    <div className=\"jumbotron p-5 m-md-5 mt-5 text-center text-danger shadow\"><h3>Page Not Found - 404 Error</h3></div>\n  </div>;\n\n  const hideCartAndLogin = ({target: element}) => {\n    if(indexes.cart) {\n      if(!['cart', 'add-to-cart', 'dark', 'img-container'].filter(className => checkParentsClass(element, className)).length)\n        store.dispatch(indexesManager(CART_INDEX, false));\n    } else if(indexes.login) {\n      if(!['connect', 'login'].filter(className => checkParentsClass(element, className)).length)\n        store.dispatch(indexesManager(LOGIN_INDEX, false));\n    } else return;\n  }\n\n  return (\n    <div className=\"App\" onClick={hideCartAndLogin} style={{minHeight: '100vh', position: 'relative'}}>\n      <ToastContainer/>\n      <Provider store={store}>\n        <header><NavBar/></header>\n        {indexes.cart && <Cart/>}\n        {indexes.login && <SignIn/>}\n        <Switch>\n          <Route path=\"/home\" exact component={Home}/>\n          <Route path=\"/products\" exact component={Products}/>\n          <Route path=\"/product-details/:id\" component={ProdDetails}/>\n          <Route path=\"/sign-up\" exact component={SignUp}/>\n          <Route path=\"/page-not-found\" render={() => pageNotFound}/>\n          <ProtectedRoute path=\"/admin/prods\" exact component={AdminApp} table={'prods'}></ProtectedRoute>\n          <ProtectedRoute path=\"/admin/users\" exact component={AdminApp} table={'users'}></ProtectedRoute>\n          <Route path=\"/admin\" exact><Redirect to=\"/admin/prods\"/></Route>\n          <Route path=\"/\" exact><Redirect to=\"/home\"/></Route>\n          <Redirect to=\"/page-not-found\"/>\n        </Switch>\n        <Footer/>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport \"jquery/dist/jquery\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}